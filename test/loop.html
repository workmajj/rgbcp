<html>
    <body style='background-color:rgb(0, 255, 0)'>
        <p>loop @ 15 fps</p>
    </body>
    <script>
        var body = document.getElementsByTagName('body')[0];
        var show = function(rgb) {
            body.style.backgroundColor = rgb;
        };

        var idx_rgb = 0;
        var STEP_RGB = [
            'rgb(255, 0, 0)',
            'rgb(0, 255, 0)',
            'rgb(0, 0, 255)',
            'rgb(0, 255, 0)'
        ];

        var idx_ms = 0;
        var STEP_MS = [66, 66, 67]; // 15 fps (no rounding)

        var count = 0;
        var loop = function() {
            if (count >= 120) {
                show('rgb(0, 255, 0)'); // end
                return;
            }

            show(STEP_RGB[idx_rgb]);
            setTimeout(loop, STEP_MS[idx_ms]);

            idx_rgb = (idx_rgb === STEP_RGB.length - 1) ? 0 : idx_rgb + 1;
            idx_ms = (idx_ms === STEP_MS.length - 1) ? 0 : idx_ms + 1;

            count++;
        };

        setTimeout(loop, 2000); // start
    </script>
</html>
